<?php
class Model_Order_Payment_Returncode_Esun {

    protected $data_arr;

    function __construct($data,$macd="null") {
        $arr = explode(",", $data);
        
        foreach ($arr as $value) {
            if (strpos($value, "=") !== false) {
                $tmp_arr = explode("=",$value);
                if(sizeof($tmp_arr) == 2){
                    $this->data_arr[ $tmp_arr[0] ] = $tmp_arr[1];
//                    echo $tmp_arr[0].">".$tmp_arr[1]."<br />";
                }
            }
        }

        if($macd !== "null" )
            $this->data_arr["macd"] = $macd;

    }

    //授權碼
    protected $code = array(
        '-4' => '未知錯誤',
'-3' => '未知錯誤',
'-2' => '未知錯誤',
'-1' => '未知錯誤',
'0' => '成功',
'2' => '查詢結束',
'4' => 'IP 不符',
'5' => 'JSON 格式錯誤',
'11' => '無此 App ID',
'12' => 'App name 不符',
'13' => '未知 app 錯誤',
'14' => 'App 種類不符',
'16' => 'App key 不符',
'17' => 'App id 已存在',
'30' => '不支援的機台',
'31' => 'iOS SDK 版本過舊',
'32' => 'Android SDK 版本過舊',
'33' => '未送 SDK 版本',
'41' => '卡片格式錯誤',
'61' => '無此商家',
'62' => '重複的 Merchant ID',
'63' => '無此收單帳戶',
'64' => '商家資料錯誤',
'65' => '未授權的商家',
'81' => '未知帳戶錯誤',
'82' => 'Partner key 不符',
'83' => 'Partner 統編不符',
'84' => 'Partner 未授權',
'85' => 'Partner key 已存在',
'86' => 'Partner 統編已存在',
'87' => 'Partner IP 允許格式錯誤',
'91' => '交易過期',
'121' => '非法 prime',
'122' => '卡片加密失敗',
'501' => '缺少參數 : cardholder',
'502' => '缺少參數 : merchantid',
'503' => '缺少參數 : prime',
'504' => '缺少參數 : currency',
'505' => '缺少參數 : details',
'506' => '缺少參數 : partnerkey',
'507' => '缺少參數 : cardholder > phonenumber',
'508' => '缺少參數 : cardholder > name',
'509' => '缺少參數 : cardholder > email',
'510' => '參數錯誤 : amount',
'511' => '參數錯誤 : instalment',
'512' => '參數錯誤 : authtocapperiodinday',
'513' => 'Instalment 超出範圍',
'514' => 'authtocapperiodinday 超出範圍',
'515' => 'details 超出範圍',
'516' => 'currency 超出範圍',
'517' => 'ptradeid 超出範圍',
'518' => 'orderid 超出範圍',
'519' => 'cardholder > phonenumber 超出範圍',
'520' => 'cardholder > name 超出範圍',
'521' => 'cardholder > email 超出範圍',
'522' => 'cardholder > addr 超出範圍',
'523' => 'cardholder > zip 超出範圍',
'524' => 'cardholder > nationalid 超出範圍',
'525' => '缺少參數 : remember',
'526' => '缺少參數 : cardkey',
'527' => '缺少參數 : cardtoken',
'528' => 'cardkey 超出範圍',
'529' => 'cardtoken 超出範圍',
'530' => '參數錯誤 : appid',
'531' => '缺少參數 : appkey',
'532' => '缺少參數 : appname',
'533' => '缺少參數 : cardnumber',
'534' => '缺少參數 : cardduedate',
'535' => '參數錯誤 : recordsperpage',
'536' => '參數錯誤 : page',
'537' => '參數錯誤 : filters > time > starttime',
'538' => '參數錯誤 : filters > time > endtime',
'545' => '參數錯誤 : filters > amount > upperlimit',
'546' => '參數錯誤 : filters > amount > lowerlimit',
'547' => '參數錯誤 : filters > appid',
'548' => '參數錯誤 : filters > merchantid',
'549' => '參數錯誤 : filters > recordstatus',
'550' => '參數錯誤 : orderby > attribute',
'551' => '參數錯誤 : orderby > isdescending',
'559' => 'recordsperpage 超出範圍',
'560' => 'page 超出範圍',
'561' => 'filters > time > starttime 超出範圍',
'562' => 'filters > time > endtime 超出範圍',
'563' => 'filters > time > starttime 不能大於 endtime',
'564' => 'filters > amount > upperlimit 超出範圍',
'565' => 'filters > amount > lowerlimit 超出範圍',
'566' => 'filters > amount > lowerlimit 不能大於 upperlimit',
'567' => 'filters > appid 超出範圍',
'570' => 'appkey 超出範圍',
'571' => 'appname 超出範圍',
'572' => 'cardnumber 超出範圍',
'573' => 'cardduedate 超出範圍',
'574' => '參數錯誤 : cardccv',
'579' => 'deviceLatitude 超出範圍',
'580' => 'deviceLongitude 超出範圍',
'581' => '參數錯誤 : devicetype',
'582' => '參數錯誤 : sdkversion',
'583' => 'identifier 超出範圍',
'584' => 'devicemodel 超出範圍',
'585' => 'osversion 超出範圍',
'586' => 'geoloc 超出範圍',
'587' => 'partnerKey 超出範圍',
'588' => '參數錯誤 : delayCaptureInDays',
'589' => '參數錯誤 : platformType',
'590' => '缺少參數 : androidMerchantId',
'591' => '缺少參數 : payTokenData',
'592' => '缺少參數 : appleMerchantId',
'593' => 'merchantId 超出範圍',
'594' => 'appleMerchantId 超出範圍',
'595' => 'delayCaptureInDays 超出範圍',
'596' => '缺少參數 : recTradeId',
'597' => 'recTradeId 超出範圍',
'598' => 'androidMerchantId 超出範圍',
'801' => 'BIN Codes 伺服器錯誤',
'901' => 'Payment data 解密錯誤',
'902' => '商家識別碼已存在',
'903' => '商家錯誤',
'904' => '商家收單帳戶不存在',
'905' => '查無此 Apple Pay 交易',
'906' => 'Apple Pay Order ID 已存在',
'907' => '查無此 Android Pay 交易',
'908' => 'Android Pay Order ID 已存在',
'911' => 'Apple Pay Merchant 不存在',
'912' => 'Android Pay Merchant 不存在',
'915' => '系統錯誤，請聯繫 TapPay',
'1001' => '查無此 Direct Pay 交易',
'2002' => '非法 tradeId',
'2003' => '重複請求',
'2004' => '重複請求',
'2005' => '重複請求',
'2011' => '卡片不存在，非法 token',
'2012' => 'Card key 錯誤',
'2013' => '卡片過期',
'6001' => '非法 orderid',
'10001' => '交易處理中',
'10002' => 'IP 不符',
'10003' => '卡片錯誤，請洽詢發卡行',
'10004' => '銀行逾時',
'10005' => '銀行系統逾時',
'10006' => '重複交易',
'10007' => '3D 驗證錯誤',
'10008' => '商家帳戶錯誤',
'10009' => '金額錯誤',
'10010' => '請款中，無法退款',
'10011' => '退款錯誤，請稍候再試',
'10012' => '格式錯誤',
'10013' => 'Order Id 重複',
'10014' => '無效的Order Id',
'10023' => '銀行錯誤',
'10050' => '金額超出範圍',
'10051' => '退款金額超出範圍',
'11000' => 'RecTradeId 格式錯誤',
'12000' => 'Partner 伺服器未設定',
'12001' => 'Partner 伺服器無法連線',
'12002' => 'Partner 伺服器回傳錯誤',
'13000' => '查詢頁錯誤',
'13001' => '查詢時間條件錯誤',
'13002' => '查詢金額條件錯誤',
'13003' => '查詢排列條件錯誤',
'88003' => '遺失參數',
'88004' => '參數格式錯誤',
'88005' => '機台不支援 Apple Pay',
'88006' => 'Apple Pay 未綁定卡片',
'88007' => '卡片輸入表單未設定'
        
    );

}

?>

